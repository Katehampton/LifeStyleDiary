<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>MY LifeStyle</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="HomePage1.css">
    </head>
    <body class="homepageBody" style="text-align:right">

        <div class="title">
            <h1> LOG YOUR DAY!</h1>
            <h3>How was your day today? Kept track of your LifeStyle today!</h3> 
        </div> 

        <button class="btn2 Overview" onclick="window.location ='overview.html';" style="vertical-align:middle"><span>Overview</span></button>
        <button class="btn2 timeWokeUp" onclick="window.location ='timeWokeUp.html';" style="vertical-align:middle"><span>Time Woken Up</span></button>
        <button class="btn2 mood" onclick="window.location ='mood.html';" style="vertical-align:middle" ><span>Mood</span></button>
        <button class="btn2 Exercise" onclick="window.location ='Exercise.html';"style="vertical-align:middle"><span>Exercise</span></button>
        <button class="btn2 work" onclick="window.location ='work.html';"style="vertical-align:middle"><span>Work / Study</span></button>
        <button  id="btn-add-action" class="btn2 addDay  btn-add2" style="vertical-align:middle" ><span>ADD DAY</span></button>
        <div class="homepage"></div>
  <!-- Add Modal -->
  <div class="add-modal modal-wrapper">
    <div class="modal">
      <div class="modal-header"><h3>Add New Day</h3></div>
      <div class="modal-body">
        <form class="form" autocomplete="off">
          <form action="/action_page.php" autocomplete="off">
            <input type="date" id="birthday" name="date" placeholder="Date" required>
          <input type="text" name="day" placeholder="Day of Week" required>
          <input type="text" name="timeWokeUp" placeholder="Time Woke Up" required>
          <input type="text" name="mood" placeholder="Mood" required>
          <input type="text" name="work" placeholder="Work/Study" required>
          <input type="text" name="hoursOfExercise" placeholder="Hours of Exercise" required> <br> <br>
          <button class="btn btn-modal">Submit</button>
        </form>
        </form>
      </div>
    </div>
  </div>
        <div class="popup" onclick="myFunction()">Need Help ?
          <span class="popuptext" id="myPopup">To add your new day click the "Add Day" button and full out your daily life!
              Use the Overview Button to Edit and look at previous days! Use the Category Buttons to sort your days by category.
          </span>
        </div>

        
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.8.0/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.8.0/firebase-firestore.js"></script>
    
        <script>
               // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyDlIbCKnvYyEP3ECbEgSRD3EfY2_x4FNe0",
        authDomain: "database-4d215.firebaseapp.com",
        projectId: "database-4d215",
        storageBucket: "database-4d215.appspot.com",
        messagingSenderId: "250491179919",
        appId: "1:250491179919:web:0198d2649c23eafe9bb1fa"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore();

const modalWrapper = document.querySelector('.modal-wrapper');

// modal add
const addModal = document.querySelector('.add-modal');

const addModalForm = document.querySelector('.add-modal .form');

// modal edit

const renderUser = doc => {
  const tr = `
    <tr data-id='${doc.id}'>
      <td>${doc.data().date}</td>
      <td>${doc.data().day}</td>
      <td>${doc.data().timeWokeUp}</td>
      <td>${doc.data().mood}</td>
      <td>${doc.data().work}</td>
      <td>${doc.data().hoursOfExercise}</td>
    </tr>
  `;
  tableUsers3.insertAdjacentHTML('beforeend', tr);


}

const btnAdd = document.querySelector('#btn-add-action');
            btnAdd.addEventListener('click', () => {
  addModal.classList.add('modal-show');

  addModalForm.date.value = '';
  addModalForm.day.value = '';
  addModalForm.timeWokeUp.value = '';
  addModalForm.mood.value = '';
  addModalForm.work.value = '';
  addModalForm.hoursOfExercise.value = '';
});




// Click submit in add modal
addModalForm.addEventListener('submit', e => {
  e.preventDefault();
  db.collection('lifeStyle').add({
    date: addModalForm.date.value,
    day: addModalForm.day.value,
    timeWokeUp: addModalForm.timeWokeUp.value,
    mood: addModalForm.mood.value,
    work: addModalForm.work.value,
    hoursOfExercise: addModalForm.hoursOfExercise.value,
  });
  modalWrapper.classList.remove('modal-show');
});
window.addEventListener('click', e => {
  if(e.target === addModal) {
    addModal.classList.remove('modal-show');
  }

});

function myFunction() {
  var popup = document.getElementById("myPopup");
  popup.classList.toggle("show");
}
        </script>
    </body>
</html>